{"version":3,"file":"plugin.js","mappings":";;;;;AAAA,MAAMA,WAAW,GAAG,2CAApB;AACA,MAAMC,QAAQ,GAAI,GAAED,WAAY,6BAAhC;;AAEA,MAAME,UAAU,GAAG,YAAY;AAC9B,QAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAhB;AACA,MAAGF,OAAO,CAACG,MAAR,IAAkB,CAArB,EAAwB;AACxBC,EAAAA,MAAM,GAAGC,IAAT,CAAc,MAAM;AACnBL,IAAAA,OAAO,CAACM,OAAR,CAAgBC,QAAhB;AACA,GAFD;AAGA,CAND;;AAQA,MAAMH,MAAM,GAAG,YAAY;AAC1B,QAAMI,OAAO,GAAGP,QAAQ,CAACQ,aAAT,CAAuB,MAAvB,CAAhB;AACAD,EAAAA,OAAO,CAACE,YAAR,CAAqB,KAArB,EAA4B,YAA5B;AACAF,EAAAA,OAAO,CAACE,YAAR,CAAqB,MAArB,EAA6BZ,QAA7B;AACAG,EAAAA,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BJ,OAA1B;AACA,SAAO,IAAIK,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvCP,IAAAA,OAAO,CAACQ,gBAAR,CAAyB,MAAzB,EAAiCF,OAAjC;AACA,GAFM,CAAP;AAGA,CARD;;AAUA,MAAMP,QAAQ,GAAIU,IAAD,IAAU;AAC1B,QAAMC,MAAM,GAAGD,IAAI,CAACE,YAAL,CAAkB,UAAlB,CAAf;AACAC,EAAAA,KAAK,CAACF,MAAD,CAAL,CAAcb,IAAd,CAAmB,MAAM;AACxBY,IAAAA,IAAI,CAACI,aAAL,CAAmB,KAAnB,EAA0BC,GAA1B,GAAgCJ,MAAhC;AACA,QAAIK,WAAJ,CAAgB;AACfC,MAAAA,SAAS,EAAEP,IADI;AAEfQ,MAAAA,OAAO,EAAE,IAFM;AAGfC,MAAAA,MAAM,EAAE,IAHO;AAIfC,MAAAA,IAAI,EAAE,IAJS;AAKfC,MAAAA,IAAI,EAAE,KALS;AAMfC,MAAAA,OAAO,EAAE,gGANM;AAOfC,MAAAA,SAAS,EAAE;AAPI,KAAhB;AASA,GAXD;AAYA,CAdD;;AAgBAC,MAAM,CAACf,gBAAP,CAAwB,MAAxB,EAAgCjB,UAAhC,E","sources":["webpack://four-corners-wp-plugin/./src/plugin.js"],"sourcesContent":["const PLUGIN_PATH = \"/wp-content/plugins/four-corners-wp-block\";\nconst CSS_PATH = `${PLUGIN_PATH}/assets/fourcorners.min.css`;\n\nconst initPlugin = async () => {\n\tconst fcElems = document.querySelectorAll(\".fc-embed\");\n\tif(fcElems.length <= 0) return;\n\taddCss().then(() => {\n\t\tfcElems.forEach(initElem);\n\t});\n}\n\nconst addCss = async () => {\n\tconst cssLink = document.createElement(\"link\");\n\tcssLink.setAttribute(\"rel\", \"stylesheet\");\n\tcssLink.setAttribute(\"href\", CSS_PATH);\n\tdocument.head.appendChild(cssLink);\n\treturn new Promise((resolve, reject) => {\n\t\tcssLink.addEventListener(\"load\", resolve)\n\t});\n}\n\nconst initElem = (elem) => {\n\tconst imgSrc = elem.getAttribute(\"data-src\");\n\tfetch(imgSrc).then(() => {\n\t\telem.querySelector(\"img\").src = imgSrc;\n\t\tnew FourCorners({\n\t\t\tcontainer: elem,\n\t\t\tcaption: true,\n\t\t\tcredit: true,\n\t\t\tlogo: true,\n\t\t\tdark: false,\n\t\t\twasmSrc: \"https://cdn.jsdelivr.net/npm/@contentauth/sdk@0.8.12-alpha.10/dist/assets/wasm/toolkit_bg.wasm\",\n\t\t\tworkerSrc: \"https://cdn.jsdelivr.net/npm/@contentauth/sdk@0.8.12-alpha.10/dist/cai-sdk.worker.min.js\"\n\t\t});\n\t});\n}\n\nwindow.addEventListener(\"load\", initPlugin);"],"names":["PLUGIN_PATH","CSS_PATH","initPlugin","fcElems","document","querySelectorAll","length","addCss","then","forEach","initElem","cssLink","createElement","setAttribute","head","appendChild","Promise","resolve","reject","addEventListener","elem","imgSrc","getAttribute","fetch","querySelector","src","FourCorners","container","caption","credit","logo","dark","wasmSrc","workerSrc","window"],"sourceRoot":""}